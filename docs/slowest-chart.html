<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Slowest Scanner – per‑command chart</title>
    <!-- Chart.js from CDN (any recent 4.x version works) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
    <!-- Chart.js Zoom plugin (adds mouse‑wheel / pinch zoom & pan) -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>
    <!-- Our own script – will be loaded after the page is built -->
    <script defer src="slowest-chart.js"></script>

    <style>
        body { font-family: sans-serif; margin: 2rem; }
        /* -------------------------------------------------
         * The canvas is deliberately made *taller* than the viewport.
         * It will be placed inside a scrollable wrapper so the page can be
         * scrolled down to see the lower part of the chart.
         * ------------------------------------------------- */
        .chart-wrapper {
            max-height: 80vh;          /* never taller than 80 % of the viewport */
            overflow-y: auto;          /* vertical scroll when needed */
            border: 1px solid #ddd;    /* optional visual cue */
            padding: 0.5rem;
            background: #fff;
        }
        canvas { width: 100%; height: 1200px; }   /* 1200 px gives plenty of room for all points */
    </style>
</head>

<body>
    <h1>Slowest scanner – mean time vs. parameter count</h1>

    <!-- Controls -->
    <div style="margin-bottom:0.5rem;">
        <button id="resetZoomBtn">Reset zoom</button>
        <button id="freezeBtn" style="margin-left:0.5rem;">Freeze</button>
    </div>

    <!-- Scrollable wrapper around the canvas -->
    <div class="chart-wrapper">
        <canvas id="slowestChart"></canvas>
    </div>

    <p>
        The CSV file <code>slowest_scanner-10.csv</code> is parsed client‑side.
        The <code>command</code> column is stripped of the leading <code>counto=&lt;…&gt;</code>
        prefix (regex <code>^counto=\S+\s*</code>) so that each distinct program
        appears as a separate line.
    </p>
</body>
</html>
